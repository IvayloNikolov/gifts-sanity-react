{"version":3,"sources":["webpack://gifts/./src/pages/search.js"],"names":["builder","imageUrlBuilder","client","useState","inputValue","setInputValue","giftsByHobby","setGiftsByHobby","className","type","value","placeholder","onChange","e","target","nativeEvent","data","then","post","giftsDiv","gifts","map","gift","source","overprice","Math","floor","Price","key","Name","style","backgroundImage","Image","image","width","height","backgroundSize","backgroundRepeat","class","addHobbiesInput"],"mappings":"2IAKMA,E,MAAUC,GAAgBC,KAiEhC,UAhBA,WAAkB,IAAD,GACqBC,cAAS,IAAtCC,EADQ,KACIC,EADJ,QAEyBF,cAAS,MAA1CG,EAFQ,KAEMC,EAFN,KAGb,OAAQ,uBAAKC,UAAU,SACnB,iDACA,uBAAKA,UAAU,iBACX,yBAAOC,KAAK,OAAOC,MAASN,EAAYO,YAAY,wBAAwBC,SAAU,SAACC,IAhDnG,SAAyBT,EAAWC,EAAcE,EAAgBM,GAC9DR,EAAcQ,EAAEC,OAAOJ,OAEJ,MADCG,EAAEE,YAAYC,OAE9Bd,UAAA,uCAAoDE,EAApD,kEACKa,MAAK,SAACC,GACH,IACIC,EADQD,EAAKE,MACIC,KAAI,SAAAC,GACrB,IAbJC,EAaQC,EAAaC,KAAKC,MAAmB,IAAbJ,EAAKK,OAEjC,OAAO,uBAAKC,IAAKN,EAAKO,KAAMrB,UAAU,uBAClC,uBAAKsB,MAAO,CACRC,gBAAgB,QAjB5BR,EAiB2CD,EAAKU,MAhBvDhC,EAAQiC,MAAMV,GAgBoB,KACfW,MAAO,OACPC,OAAQ,QACRC,eAAgB,QAChBC,iBAAkB,eAEtB,uBAAK7B,UAAU,aACVc,EAAKO,MAEV,uBAAKS,MAAM,4CACP,uBAAKA,MAAM,QACP,uBAAK9B,UAAU,oBAAf,KACOgB,GAEP,uBAAKhB,UAAU,oBAAf,KACOc,EAAKK,QAGhB,uBAAKW,MAAM,kDAAX,gBAMZ/B,EAAgBY,MAExBd,EAAc,KAWNkC,CAAgBnC,EAAWC,EAAcE,EAAgBM,OAGjE,uBAAKL,UAAU,uBACVF","file":"component---src-pages-search-js-614dc675c014d2f3895f.js","sourcesContent":["import React, { useState } from 'react';\nimport client from '../client';\nimport '../styles/index.css'\nimport imageUrlBuilder from '@sanity/image-url';\n\nconst builder = imageUrlBuilder(client)\n \nfunction urlFor(source) {\n  return builder.image(source)\n}\n\n\nfunction addHobbiesInput(inputValue,setInputValue,setGiftsByHobby,e){\n    setInputValue(e.target.value)\n    let writtenSymbol = e.nativeEvent.data;\n    if(writtenSymbol===\" \"){\n        client.fetch(`*[_type==\"post\" && Tags[].value == \"${inputValue}\"]{\"gifts\": *[_type == \"gift\" && references(^._id)][0...3]}[0]`)\n            .then((post)=>{ \n                let gifts = post.gifts;\n                let giftsDiv = gifts.map(gift=>{\n                    let overprice =  Math.floor(gift.Price * 1.2);\n\n                    return <div key={gift.Name} className=\"gift-by-hobby mt-12\">\n                        <div style={{\n                            backgroundImage: `url(${urlFor(gift.Image)})`,\n                            width: '100%',\n                            height: '250px',\n                            backgroundSize: 'cover',\n                            backgroundRepeat: 'no-repeat'\n                        }}></div>\n                        <div className=\"gift-name\">\n                            {gift.Name}\n                        </div>\n                        <div class=\"flex flex-wrap justify-between pr-2 mt-4\">\n                            <div class=\"flex\">\n                                <div className=\"index-gift-price\">\n                                    $ {overprice}\n                                </div>\n                                <div className=\"index-sale-price\">\n                                    $ {gift.Price}\n                                </div>\n                            </div>\n                            <div class=\"text-xs border-black border-2 border-solid p-2\">\n                                10% OFF\n                            </div>\n                        </div>\n                    </div>\n                })\n                setGiftsByHobby(giftsDiv)\n            })\n        setInputValue('');\n    };\n}\n\nfunction search(){\n    let [inputValue, setInputValue] = useState('');\n    let [giftsByHobby, setGiftsByHobby] = useState(null);\n    return (<div className=\"index\">\n        <h1> Pick The Best Gift</h1>\n        <div className=\"hobbies-input\">\n            <input type=\"text\" value = {inputValue} placeholder=\"Enter your hobbies...\" onChange={(e)=>{\n                addHobbiesInput(inputValue,setInputValue,setGiftsByHobby,e)\n            }} />\n        </div>\n        <div className=\"flex flex-wrap mt-4\">\n            {giftsByHobby}\n        </div>\n    </div>)\n}\n\nexport default search;\n"],"sourceRoot":""}