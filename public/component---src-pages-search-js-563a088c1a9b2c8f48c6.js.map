{"version":3,"sources":["webpack://gifts/./src/pages/search.js"],"names":["builder","imageUrlBuilder","client","useState","inputValue","setInputValue","giftsByHobby","setGiftsByHobby","className","title","image","description","type","value","placeholder","onChange","e","target","nativeEvent","data","then","post","giftsDiv","gifts","map","gift","source","overprice","Math","floor","Price","key","Name","style","backgroundImage","Image","width","height","backgroundSize","backgroundRepeat","class","addHobbiesInput"],"mappings":"+JAMMA,EAAUC,IAAgBC,KAkEhC,UAjBA,WAAkB,IAAD,GACqBC,cAAS,IAAtCC,EADQ,KACIC,EADJ,QAEyBF,cAAS,MAA1CG,EAFQ,KAEMC,EAFN,KAGb,OAAQ,uBAAKC,UAAU,SACnB,gBAAC,IAAD,CAAKC,MAAM,QAAQC,MAAM,GAAGC,YAAY,KACxC,iDACA,uBAAKH,UAAU,iBACX,yBAAOI,KAAK,OAAOC,MAAST,EAAYU,YAAY,wBAAwBC,SAAU,SAACC,IAjDnG,SAAyBZ,EAAWC,EAAcE,EAAgBS,GAC9DX,EAAcW,EAAEC,OAAOJ,OAEJ,MADCG,EAAEE,YAAYC,OAE9BjB,UAAA,uCAAoDE,EAApD,kEACKgB,MAAK,SAACC,GACH,IACIC,EADQD,EAAKE,MACIC,KAAI,SAAAC,GACrB,IAbJC,EAaQC,EAAaC,KAAKC,MAAmB,IAAbJ,EAAKK,OAEjC,OAAO,uBAAKC,IAAKN,EAAKO,KAAMxB,UAAU,uBAClC,uBAAKyB,MAAO,CACRC,gBAAgB,QAjB5BR,EAiB2CD,EAAKU,MAhBvDnC,EAAQU,MAAMgB,GAgBoB,KACfU,MAAO,OACPC,OAAQ,QACRC,eAAgB,QAChBC,iBAAkB,eAEtB,uBAAK/B,UAAU,aACViB,EAAKO,MAEV,uBAAKQ,MAAM,4CACP,uBAAKA,MAAM,QACP,uBAAKhC,UAAU,oBAAf,KACOmB,GAEP,uBAAKnB,UAAU,oBAAf,KACOiB,EAAKK,QAGhB,uBAAKU,MAAM,kDAAX,gBAMZjC,EAAgBe,MAExBjB,EAAc,KAYNoC,CAAgBrC,EAAWC,EAAcE,EAAgBS,OAGjE,uBAAKR,UAAU,uBACVF","file":"component---src-pages-search-js-563a088c1a9b2c8f48c6.js","sourcesContent":["import React, { useState } from 'react';\nimport client from '../client';\nimport '../styles/index.css'\nimport imageUrlBuilder from '@sanity/image-url';\nimport SEO from '../Components/SEO';\n\nconst builder = imageUrlBuilder(client)\n \nfunction urlFor(source) {\n  return builder.image(source)\n}\n\n\nfunction addHobbiesInput(inputValue,setInputValue,setGiftsByHobby,e){\n    setInputValue(e.target.value)\n    let writtenSymbol = e.nativeEvent.data;\n    if(writtenSymbol===\" \"){\n        client.fetch(`*[_type==\"post\" && Tags[].value == \"${inputValue}\"]{\"gifts\": *[_type == \"gift\" && references(^._id)][0...3]}[0]`)\n            .then((post)=>{ \n                let gifts = post.gifts;\n                let giftsDiv = gifts.map(gift=>{\n                    let overprice =  Math.floor(gift.Price * 1.2);\n\n                    return <div key={gift.Name} className=\"gift-by-hobby mt-12\">\n                        <div style={{\n                            backgroundImage: `url(${urlFor(gift.Image)})`,\n                            width: '100%',\n                            height: '250px',\n                            backgroundSize: 'cover',\n                            backgroundRepeat: 'no-repeat'\n                        }}></div>\n                        <div className=\"gift-name\">\n                            {gift.Name}\n                        </div>\n                        <div class=\"flex flex-wrap justify-between pr-2 mt-4\">\n                            <div class=\"flex\">\n                                <div className=\"index-gift-price\">\n                                    $ {overprice}\n                                </div>\n                                <div className=\"index-sale-price\">\n                                    $ {gift.Price}\n                                </div>\n                            </div>\n                            <div class=\"text-xs border-black border-2 border-solid p-2\">\n                                10% OFF\n                            </div>\n                        </div>\n                    </div>\n                })\n                setGiftsByHobby(giftsDiv)\n            })\n        setInputValue('');\n    };\n}\n\nfunction search(){\n    let [inputValue, setInputValue] = useState('');\n    let [giftsByHobby, setGiftsByHobby] = useState(null);\n    return (<div className=\"index\">\n        <SEO title=\"title\" image=\"\" description=\"\" />\n        <h1> Pick The Best Gift</h1>\n        <div className=\"hobbies-input\">\n            <input type=\"text\" value = {inputValue} placeholder=\"Enter your hobbies...\" onChange={(e)=>{\n                addHobbiesInput(inputValue,setInputValue,setGiftsByHobby,e)\n            }} />\n        </div>\n        <div className=\"flex flex-wrap mt-4\">\n            {giftsByHobby}\n        </div>\n    </div>)\n}\n\nexport default search;\n"],"sourceRoot":""}