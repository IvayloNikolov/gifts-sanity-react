{"version":3,"sources":["webpack://gifts/./node_modules/core-js/internals/string-trim-forced.js","webpack://gifts/./node_modules/core-js/internals/string-trim.js","webpack://gifts/./node_modules/core-js/internals/whitespaces.js","webpack://gifts/./node_modules/core-js/modules/es.string.trim-start.js","webpack://gifts/./node_modules/react-helmet/es/Helmet.js","webpack://gifts/./src/Components/SEO.js","webpack://gifts/./src/client.js","webpack://gifts/./node_modules/@rexxars/eventsource-polyfill/src/eventsource.js","webpack://gifts/./node_modules/@sanity/client/lib/assets/assetsClient.js","webpack://gifts/./node_modules/@sanity/client/lib/auth/authClient.js","webpack://gifts/./node_modules/@sanity/client/lib/config.js","webpack://gifts/./node_modules/@sanity/client/lib/data/dataMethods.js","webpack://gifts/./node_modules/@sanity/client/lib/data/encodeQueryString.js","webpack://gifts/./node_modules/@sanity/client/lib/data/listen.js","webpack://gifts/./node_modules/@sanity/client/lib/data/patch.js","webpack://gifts/./node_modules/@sanity/client/lib/data/transaction.js","webpack://gifts/./node_modules/@sanity/client/lib/datasets/datasetsClient.js","webpack://gifts/./node_modules/@sanity/client/lib/http/browserMiddleware.js","webpack://gifts/./node_modules/@sanity/client/lib/http/errors.js","webpack://gifts/./node_modules/@sanity/client/lib/http/queryString.js","webpack://gifts/./node_modules/@sanity/client/lib/http/request.js","webpack://gifts/./node_modules/@sanity/client/lib/http/requestOptions.js","webpack://gifts/./node_modules/@sanity/client/lib/projects/projectsClient.js","webpack://gifts/./node_modules/@sanity/client/lib/sanityClient.js","webpack://gifts/./node_modules/@sanity/client/lib/users/usersClient.js","webpack://gifts/./node_modules/@sanity/client/lib/util/defaults.js","webpack://gifts/./node_modules/@sanity/client/lib/util/getSelection.js","webpack://gifts/./node_modules/@sanity/client/lib/util/once.js","webpack://gifts/./node_modules/@sanity/client/lib/util/pick.js","webpack://gifts/./node_modules/@sanity/client/lib/validators.js","webpack://gifts/./node_modules/@sanity/eventsource/browser.js","webpack://gifts/./node_modules/@sanity/generate-help-url/index.js","webpack://gifts/./node_modules/@sanity/image-url/lib/browser/image-url.umd.js","webpack://gifts/./node_modules/@sanity/observable/lib/SanityObservableMinimal.js","webpack://gifts/./node_modules/@sanity/observable/minimal.js","webpack://gifts/./node_modules/@sanity/observable/operators/filter.js","webpack://gifts/./node_modules/@sanity/observable/operators/map.js","webpack://gifts/./node_modules/@sanity/observable/operators/reduce.js","webpack://gifts/./node_modules/deep-assign/index.js","webpack://gifts/./node_modules/get-it/index.js","webpack://gifts/./node_modules/get-it/lib/index.js","webpack://gifts/./node_modules/get-it/lib/middleware/defaultOptionsProcessor.js","webpack://gifts/./node_modules/get-it/lib/middleware/defaultOptionsValidator.js","webpack://gifts/./node_modules/get-it/lib/middleware/jsonRequest.js","webpack://gifts/./node_modules/get-it/lib/middleware/jsonResponse.js","webpack://gifts/./node_modules/get-it/lib/middleware/observable.js","webpack://gifts/./node_modules/get-it/lib/middleware/progress/browser-progress.js","webpack://gifts/./node_modules/get-it/lib/middleware/progress/index.js","webpack://gifts/./node_modules/get-it/lib/request/browser-request.js","webpack://gifts/./node_modules/get-it/lib/request/index.js","webpack://gifts/./node_modules/get-it/lib/util/global.js","webpack://gifts/./node_modules/get-it/lib/util/middlewareReducer.js","webpack://gifts/./node_modules/is-obj/index.js","webpack://gifts/./node_modules/is-plain-object/index.js","webpack://gifts/./node_modules/isobject/index.js","webpack://gifts/./node_modules/make-error/index.js","webpack://gifts/./node_modules/nano-pubsub/index.js","webpack://gifts/./node_modules/parse-headers/parse-headers.js","webpack://gifts/./node_modules/querystringify/index.js","webpack://gifts/./node_modules/react-fast-compare/index.js","webpack://gifts/./node_modules/react-side-effect/lib/index.js","webpack://gifts/./node_modules/requires-port/index.js","webpack://gifts/./node_modules/rxjs/internal/Observable.js","webpack://gifts/./node_modules/rxjs/internal/Observer.js","webpack://gifts/./node_modules/rxjs/internal/Subscriber.js","webpack://gifts/./node_modules/rxjs/internal/Subscription.js","webpack://gifts/./node_modules/rxjs/internal/config.js","webpack://gifts/./node_modules/rxjs/internal/observable/empty.js","webpack://gifts/./node_modules/rxjs/internal/operators/defaultIfEmpty.js","webpack://gifts/./node_modules/rxjs/internal/operators/filter.js","webpack://gifts/./node_modules/rxjs/internal/operators/map.js","webpack://gifts/./node_modules/rxjs/internal/operators/reduce.js","webpack://gifts/./node_modules/rxjs/internal/operators/scan.js","webpack://gifts/./node_modules/rxjs/internal/operators/takeLast.js","webpack://gifts/./node_modules/rxjs/internal/symbol/observable.js","webpack://gifts/./node_modules/rxjs/internal/symbol/rxSubscriber.js","webpack://gifts/./node_modules/rxjs/internal/util/ArgumentOutOfRangeError.js","webpack://gifts/./node_modules/rxjs/internal/util/UnsubscriptionError.js","webpack://gifts/./node_modules/rxjs/internal/util/canReportError.js","webpack://gifts/./node_modules/rxjs/internal/util/hostReportError.js","webpack://gifts/./node_modules/rxjs/internal/util/identity.js","webpack://gifts/./node_modules/rxjs/internal/util/isArray.js","webpack://gifts/./node_modules/rxjs/internal/util/isFunction.js","webpack://gifts/./node_modules/rxjs/internal/util/isObject.js","webpack://gifts/./node_modules/rxjs/internal/util/pipe.js","webpack://gifts/./node_modules/rxjs/internal/util/toSubscriber.js","webpack://gifts/./node_modules/same-origin/index.js","webpack://gifts/./node_modules/same-origin/url-parser.js","webpack://gifts/./node_modules/url-parse/index.js"],"names":["fails","whitespaces","module","exports","METHOD_NAME","name","requireObjectCoercible","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","$","$trimStart","FORCED","forcedStringTrimMethod","trimStart","this","target","proto","forced","trimLeft","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","Object","keys","map","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","obj","key","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","Symbol","iterator","constructor","prototype","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","call","objectWithoutProperties","indexOf","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","str","encode","undefined","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","Array","isArray","join","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","value","forEach","push","tagUnion","property","rafPolyfill","Date","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","requestAnimationFrame","window","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","g","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","document","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","_i","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","toString","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","style","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","apply","subClass","superClass","create","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","set","canUseDOM","propTypes","defaultTitle","titleTemplate","defaultProps","peek","rewind","mappedState","renderStatic","description","image","url","query","data","metaDescription","site","siteMetadata","metaTitle","metaimage","metaUrl","sanityClient","projectId","dataset","EventSource","options","SyntaxError","URL","setOptions","evs","poll","CONNECTING","OPEN","CLOSED","defaultOptions","loggingEnabled","loggingPrefix","interval","bufferSizeLimit","silentTimeout","getArgs","evs_buffer_size_limit","xhrHeaders","Accept","option","defaults","log","message","readyState","cleanup","cursor","cache","_xhr","XHR","resetNoActivityTimer","err","dispatchEvent","pollAgain","_pollTimer","clearInterval","_noActivityTimer","abort","close","_onxhrdata","request","isReady","hasError","buffer","getBuffer","substring","lastMessageIndex","newcursor","toparse","parseStream","isDone","chunk","j","eventType","datas","line","retry","events","normalizeToLF","parts","trimWhiteSpace","parseInt","isNaN","lastEventId","event","MessageEvent","location","origin","handlers","addEventListener","handler","removeEventListener","_noactivityTimer","onerror","onmessage","onopen","urlWithParams","baseURL","params","encodedArgs","urlarg","urlize","encodeURIComponent","text","ln2","lastIndexOf","lr2","lrln2","Math","max","reTrim","isOldIE","isPolyfill","evs_preamble","XDomainRequest","_request","onprogress","_ready","onload","_loaded","_failed","ontimeout","reqGetArgs","defaultArgs","evs_last_event_id","open","send","useXDomainRequest","rv","responseText","XMLHttpRequest","onreadystatechange","status","headers","header","setRequestHeader","bubbles","cancelBubble","cancelable","Boolean","responseType","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","queryString","validators","AssetsClient","client","toDocument","body","get","optionsFromFile","opts","file","File","filename","preserveFilename","contentType","upload","assetType","validateAssetType","extract","hasDataset","clientConfig","assetEndpoint","label","creditLine","sourceId","sourceName","sourceUrl","observable","_requestObservable","method","timeout","uri","isPromiseAPI","pipe","toPromise","delete","docId","_id","getImageUrl","ref","_id$split2","assetId","size","format","_this$client$clientCo","qs","AuthClient","getLoginProviders","logout","generateHelpUrl","validate","once","defaultConfig","apiHost","useProjectHostname","gradientMode","LOCALHOSTS","createWarningPrinter","printCdnWarning","printBrowserTokenWarning","printCdnTokenWarning","initConfig","config","prevConfig","newConfig","projectBased","Promise","helpUrl","namespace","isBrowser","hostname","isLocalhost","host","isLocal","token","ignoreBrowserTokenWarning","useCdn","isDefaultApi","withCredentials","cdnUrl","hostParts","protocol","cdnHost","_defineProperty","getSelection","encodeQueryString","Transaction","Patch","listen","excludeFalsey","param","defValue","getMutationQuery","returnIds","returnDocuments","visibility","isResponse","getBody","getDataUrl","operation","path","catalog","baseUri","fetch","mapResponse","filterResponse","res","result","_dataRequest","getDocument","json","documents","getDocuments","ids","docs","indexed","doc","_create","createIfNotExists","requireDocumentId","createOrReplace","patch","selector","operations","selection","dataRequest","mutations","mutate","mut","serialize","muts","transactionId","transaction","endpoint","isMutation","strQuery","useGet","stringQuery","returnFirst","reqOptions","results","op","mutation","enc","_ref$params","_ref$options","qString","JSON","stringify","Observable","polyfilledEventSource","pick","tokenWarning","printTokenWarning","isWindowEventSource","possibleOptions","includeResult","parseEvent","parse","cooerceError","evt","error","extractErrorMessage","listenOpts","_this$clientConfig","listenFor","shouldEmitReconnect","esOptions","Authorization","observer","reconnectTimer","es","getEventSource","stopped","onError","unsubscribe","onChannelError","onMessage","onDisconnect","complete","deepAssign","validateObject","validateInsert","clone","merge","stack","_assign","diffMatchPatch","unset","attrs","setIfMissing","_set","inc","dec","insert","at","items","_this$_assign","append","prepend","deleteCount","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","toJSON","commit","reset","defaultMutateOptions","trxId","_add","documentId","validateDocumentId","patchOps","isBuilder","DatasetsClient","_modify","edit","list","makeError","ClientError","extractErrorProps","super","ServerError","response","statusCode","responseBody","stringifyBody","details","statusMessage","httpErrorMessage","getIt","jsonRequest","jsonResponse","progress","_require","httpError","onResponse","implementation","httpRequest","requester","maxRedirects","defaultRequester","projectHeader","overrides","useGlobalApi","ProjectsClient","getById","dataMethods","UsersClient","getRequestOptions","_require3","SanityClient","assets","datasets","projects","users","auth","observableConfig","getUrl","canUseCdn","prop","sel","selectionOpts","fn","returnValue","didCall","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","val","signature","valid","loc","slug","_createForOfIteratorHelperLoose","example","parseAssetId","_ref$split","dimensionString","_dimensionString$spli","width","height","isFinite","isRef","src","isAsset","isAssetStub","asset","parseSource","isUrl","urlToId","img","crop","hotspot","applyDefaults","left","top","bottom","right","x","y","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","spec","cropLeft","round","cropTop","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","fit","specToImageUrl","baseUrl","_spec$rect","bg","flip","flipHorizontal","flipVertical","mapping","specName","cropRect","imgWidth","imgHeight","desiredAspectRatio","_width","_height","_left","_top","floor","validFits","validCrops","validAutoModes","isSanityClient","rewriteSpecName","_step","_iterator","entry","urlBuilder","_client$clientConfig","apiUrl","ImageUrlBuilder","parent","_proto","withOptions","newOptions","_dataset","_projectId","_bg","dpr","_dpr","maxWidth","_maxWidth","minWidth","_minWidth","maxHeight","_maxHeight","minHeight","_minHeight","blur","_blur","sharpen","_sharpen","_format","invert","_invert","orientation","_orientation","quality","_quality","forceDownload","download","saturation","_saturation","auto","factory","SanityObservableMinimal","createDeprecatedMemberOp","hasWarned","lift","operator","isObj","propIsEnumerable","propertyIsEnumerable","toObject","assignKey","to","getOwnPropertySymbols","symbols","s","pubsub","middlewareReducer","processOptions","validateOptions","channelNames","middlehooks","createRequester","initMiddleware","loadedMiddleware","middleware","ware","channels","applyMiddleware","context","ongoingRequest","subscribe","ctx","reqErr","publish","use","newMiddleware","onReturn","objectAssign","urlParse","isReactNative","navigator","product","has","stringifyQueryString","pairs","item","normalizeTimeout","time","connect","socket","delay","Number","removeUndefined","toUpperCase","validUrl","isPlainObject","serializeTypes","isBuffer","tryParse","shouldDecode","force","global","onRequest","adapter","xhr","handleProgress","stage","percent","lengthComputable","loaded","total","sameOrigin","parseHeaders","win","XmlHttpRequest","timers","cors","href","injectedResponse","cbTimer","isXdr","aborted","timedOut","onabort","delays","stopTimers","timeoutRequest","resetTimers","statusText","getAllResponseHeaders","reduceResponse","onLoad","rawBody","code","isNetworkError","hook","defaultValue","_len","args","_key","bailEarly","isObject","isObjectObject","ctor","prot","construct","Reflect","captureStackTrace","BaseError","cname","container","setFunctionName","f","_","super_","properties","subscribers","subscriber","idx","arg","headersArr","row","decode","input","decodeURIComponent","e","prefix","part","parser","exec","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","a","b","it","entries","flags","valueOf","$$typeof","match","ex","React","React__default","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","displayName","getDisplayName","port","canReportError_1","toSubscriber_1","observable_1","pipe_1","config_1","_isScalar","_subscribe","observerOrNext","sink","toSubscriber","add","useDeprecatedSynchronousErrorHandling","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","canReportError","promiseCtor","_this","getPromiseCtor","resolve","reject","subscription","pipeFromArray","hostReportError_1","empty","closed","hostReportError","_extendStatics","__extends","d","p","__","isFunction_1","Observer_1","Subscription_1","rxSubscriber_1","Subscriber","_super","destinationOrNext","isStopped","destination","SafeSubscriber","rxSubscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","isFunction","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","_unsubscribe","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","_ctorUnsubscribe","errors","_a","remove","UnsubscriptionError","flattenUnsubscriptionErrors","sub","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","_enable_super_gross_mode_that_will_cause_bad_things","Observable_1","scheduler","schedule","emptyScheduled","Subscriber_1","defaultIfEmpty","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","isEmpty","predicate","thisArg","FilterOperator","FilterSubscriber","count","project","MapOperator","MapSubscriber","scan_1","takeLast_1","defaultIfEmpty_1","accumulator","seed","scan","takeLast","acc","hasSeed","ScanOperator","ScanSubscriber","_seed","_tryNext","ArgumentOutOfRangeError_1","empty_1","TakeLastOperator","ArgumentOutOfRangeError","TakeLastSubscriber","ring","random","$$rxSubscriber","ArgumentOutOfRangeErrorImpl","UnsubscriptionErrorImpl","closed_1","identity","identity_1","fns","prev","nextOrObserver","uri1","uri2","ieMode","url1","url2","url1Port","url2Port","regex","required","slashes","protocolre","rules","address","NaN","ignore","hash","lolcation","finaldestination","Url","unescape","pathname","extractProtocol","rest","relative","extracted","instruction","instructions","charAt","last","unshift","up","username","password","pop","char","ins"],"mappings":"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","file":"commons-09fc4c0990e7e757bfe2.js","sourcesContent":["var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://tc39.es/ecma262/#sec-string.prototype.trimstart\n// https://tc39.es/ecma262/#String.prototype.trimleft\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","import \"core-js/modules/es.array.reduce.js\";\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","import React from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst SEO = ({ title, description, image, url }) => {\n    return <StaticQuery query ={query} render={ data =>{\n\t\tconst metaDescription = description || data.site.siteMetadata.description;\n\t\tconst metaTitle = title || data.site.siteMetadata.title;\n\t\tconst metaimage = image || data.site.siteMetadata.image;\n\t\tconst metaUrl = url || data.site.siteMetadata.url;\n\t\treturn <Helmet \n\t\ttitle={metaTitle}\n\t\tmeta = {[\n\t\t\t{\n\t\t\t\tname: 'description',\n\t\t\t\tcontent: metaDescription\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'og:image',\n\t\t\t\tcontent: metaimage\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'og:description',\n\t\t\t\tcontent: metaDescription\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'og:type',\n\t\t\t\tcontent: 'website'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'og:url',\n\t\t\t\tcontent: metaUrl\n\t\t\t}\n\t\t]} />\n    }} />\n}\n\nexport default SEO\n\nconst query = graphql`\n  query SEO {\n    site {\n      siteMetadata {\n        title\n        description\n        url\n        image\n      }\n    }\n  }`;","import sanityClient from '@sanity/client';\n\nexport default sanityClient({\n    projectId: 'n1gslz9a',\n    dataset: 'production'\n})","/*\n * EventSource polyfill\n * Originally published by sc AmvTek srl (https://github.com/amvtek/EventSource) - devel@amvtek.com\n * Forked by Espen Hovlandsdal to fix a few issues + publish latest version\n */\n;\n\n(function (root, factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    if (global.EventSource && !global._eventSourceImportPrefix) {\n      return;\n    }\n\n    var evsImportName = (root._eventSourceImportPrefix || '') + 'EventSource';\n    root[evsImportName] = factory();\n  }\n})(typeof self === 'undefined' ? this : self, function () {\n  var EventSource = function EventSource(url, options) {\n    if (!url || typeof url != 'string') {\n      throw new SyntaxError('Not enough arguments');\n    }\n\n    this.URL = url;\n    this.setOptions(options);\n    var evs = this;\n    setTimeout(function () {\n      evs.poll();\n    }, 0);\n  };\n\n  EventSource.prototype = {\n    CONNECTING: 0,\n    OPEN: 1,\n    CLOSED: 2,\n    defaultOptions: {\n      loggingEnabled: false,\n      loggingPrefix: 'eventsource',\n      interval: 500,\n      // milliseconds\n      bufferSizeLimit: 256 * 1024,\n      // bytes\n      silentTimeout: 300000,\n      // milliseconds\n      getArgs: {\n        evs_buffer_size_limit: 256 * 1024\n      },\n      xhrHeaders: {\n        Accept: 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    },\n    setOptions: function setOptions(options) {\n      var defaults = this.defaultOptions;\n      var option; // set all default options...\n\n      for (option in defaults) {\n        if (defaults.hasOwnProperty(option)) {\n          this[option] = defaults[option];\n        }\n      } // override with what is in options\n\n\n      for (option in options) {\n        if (option in defaults && options.hasOwnProperty(option)) {\n          this[option] = options[option];\n        }\n      } // if getArgs option is enabled\n      // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n\n\n      if (this.getArgs && this.bufferSizeLimit) {\n        this.getArgs.evs_buffer_size_limit = this.bufferSizeLimit;\n      } // if console is not available, force loggingEnabled to false\n      // eslint-disable-next-line no-console\n\n\n      if (typeof console === 'undefined' || typeof console.log === 'undefined') {\n        this.loggingEnabled = false;\n      }\n    },\n    log: function log(message) {\n      if (this.loggingEnabled) {\n        // eslint-disable-next-line no-console\n        console.log('[' + this.loggingPrefix + ']:' + message);\n      }\n    },\n    poll: function poll() {\n      try {\n        if (this.readyState == this.CLOSED) {\n          return;\n        }\n\n        this.cleanup();\n        this.readyState = this.CONNECTING;\n        this.cursor = 0;\n        this.cache = '';\n        this._xhr = new this.XHR(this);\n        this.resetNoActivityTimer();\n      } catch (err) {\n        // in an attempt to silence the errors\n        this.log('There were errors inside the pool try-catch');\n        this.dispatchEvent('error', {\n          type: 'error',\n          data: err.message\n        });\n      }\n    },\n    pollAgain: function pollAgain(interval) {\n      // schedule poll to be called after interval milliseconds\n      var evs = this;\n      evs.readyState = evs.CONNECTING;\n      evs.dispatchEvent('error', {\n        type: 'error',\n        data: 'Reconnecting '\n      });\n      this._pollTimer = setTimeout(function () {\n        evs.poll();\n      }, interval || 0);\n    },\n    cleanup: function cleanup() {\n      this.log('evs cleaning up');\n\n      if (this._pollTimer) {\n        clearInterval(this._pollTimer);\n        this._pollTimer = null;\n      }\n\n      if (this._noActivityTimer) {\n        clearInterval(this._noActivityTimer);\n        this._noActivityTimer = null;\n      }\n\n      if (this._xhr) {\n        this._xhr.abort();\n\n        this._xhr = null;\n      }\n    },\n    resetNoActivityTimer: function resetNoActivityTimer() {\n      if (this.silentTimeout) {\n        if (this._noActivityTimer) {\n          clearInterval(this._noActivityTimer);\n        }\n\n        var evs = this;\n        this._noActivityTimer = setTimeout(function () {\n          evs.log('Timeout! silentTImeout:' + evs.silentTimeout);\n          evs.pollAgain();\n        }, this.silentTimeout);\n      }\n    },\n    close: function close() {\n      this.readyState = this.CLOSED;\n      this.log('Closing connection. readyState: ' + this.readyState);\n      this.cleanup();\n    },\n    _onxhrdata: function _onxhrdata() {\n      var request = this._xhr;\n\n      if (request.isReady() && !request.hasError()) {\n        // reset the timer, as we have activity\n        this.resetNoActivityTimer(); // move this EventSource to OPEN state...\n\n        if (this.readyState == this.CONNECTING) {\n          this.readyState = this.OPEN;\n          this.dispatchEvent('open', {\n            type: 'open'\n          });\n        }\n\n        var buffer = request.getBuffer();\n\n        if (buffer.length > this.bufferSizeLimit) {\n          this.log('buffer.length > this.bufferSizeLimit');\n          this.pollAgain();\n        }\n\n        if (this.cursor == 0 && buffer.length > 0) {\n          // skip byte order mark \\uFEFF character if it starts the stream\n          if (buffer.substring(0, 1) == \"\\uFEFF\") {\n            this.cursor = 1;\n          }\n        }\n\n        var lastMessageIndex = this.lastMessageIndex(buffer);\n\n        if (lastMessageIndex[0] >= this.cursor) {\n          var newcursor = lastMessageIndex[1];\n          var toparse = buffer.substring(this.cursor, newcursor);\n          this.parseStream(toparse);\n          this.cursor = newcursor;\n        } // if request is finished, reopen the connection\n\n\n        if (request.isDone()) {\n          this.log('request.isDone(). reopening the connection');\n          this.pollAgain(this.interval);\n        }\n      } else if (this.readyState !== this.CLOSED) {\n        this.log('this.readyState !== this.CLOSED');\n        this.pollAgain(this.interval); //MV: Unsure why an error was previously dispatched\n      }\n    },\n    parseStream: function parseStream(chunk) {\n      // normalize line separators (\\r\\n,\\r,\\n) to \\n\n      // remove white spaces that may precede \\n\n      chunk = this.cache + this.normalizeToLF(chunk);\n      var events = chunk.split('\\n\\n');\n      var i, j, eventType, datas, line, retry;\n\n      for (i = 0; i < events.length - 1; i++) {\n        eventType = 'message';\n        datas = [];\n        var parts = events[i].split('\\n');\n\n        for (j = 0; j < parts.length; j++) {\n          line = this.trimWhiteSpace(parts[j]);\n\n          if (line.indexOf('event') == 0) {\n            eventType = line.replace(/event:?\\s*/, '');\n          } else if (line.indexOf('retry') == 0) {\n            retry = parseInt(line.replace(/retry:?\\s*/, ''), 10);\n\n            if (!isNaN(retry)) {\n              this.interval = retry;\n            }\n          } else if (line.indexOf('data') == 0) {\n            datas.push(line.replace(/data:?\\s*/, ''));\n          } else if (line.indexOf('id:') == 0) {\n            this.lastEventId = line.replace(/id:?\\s*/, '');\n          } else if (line.indexOf('id') == 0) {\n            // this resets the id\n            this.lastEventId = null;\n          }\n        }\n\n        if (datas.length && this.readyState != this.CLOSED) {\n          // dispatch a new event\n          var event = new MessageEvent(eventType, datas.join('\\n'), typeof window !== 'undefined' && typeof window.location !== 'undefined' ? window.location.origin : null, this.lastEventId);\n          this.dispatchEvent(eventType, event);\n        }\n      }\n\n      this.cache = events[events.length - 1];\n    },\n    dispatchEvent: function dispatchEvent(type, event) {\n      var handlers = this['_' + type + 'Handlers'];\n\n      if (handlers) {\n        for (var i = 0; i < handlers.length; i++) {\n          handlers[i].call(this, event);\n        }\n      }\n\n      if (this['on' + type]) {\n        this['on' + type].call(this, event);\n      }\n    },\n    addEventListener: function addEventListener(type, handler) {\n      if (!this['_' + type + 'Handlers']) {\n        this['_' + type + 'Handlers'] = [];\n      }\n\n      this['_' + type + 'Handlers'].push(handler);\n    },\n    removeEventListener: function removeEventListener(type, handler) {\n      var handlers = this['_' + type + 'Handlers'];\n\n      if (!handlers) {\n        return;\n      }\n\n      for (var i = handlers.length - 1; i >= 0; --i) {\n        if (handlers[i] === handler) {\n          handlers.splice(i, 1);\n          break;\n        }\n      }\n    },\n    _pollTimer: null,\n    _noactivityTimer: null,\n    _xhr: null,\n    lastEventId: null,\n    cache: '',\n    cursor: 0,\n    onerror: null,\n    onmessage: null,\n    onopen: null,\n    readyState: 0,\n    // ===================================================================\n    // helpers functions\n    // those are attached to prototype to ease reuse and testing...\n    urlWithParams: function urlWithParams(baseURL, params) {\n      var encodedArgs = [];\n\n      if (params) {\n        var key, urlarg;\n        var urlize = encodeURIComponent;\n\n        for (key in params) {\n          if (params.hasOwnProperty(key)) {\n            urlarg = urlize(key) + '=' + urlize(params[key]);\n            encodedArgs.push(urlarg);\n          }\n        }\n      }\n\n      if (encodedArgs.length > 0) {\n        if (baseURL.indexOf('?') == -1) return baseURL + '?' + encodedArgs.join('&');\n        return baseURL + '&' + encodedArgs.join('&');\n      }\n\n      return baseURL;\n    },\n    lastMessageIndex: function lastMessageIndex(text) {\n      var ln2 = text.lastIndexOf('\\n\\n');\n      var lr2 = text.lastIndexOf('\\r\\r');\n      var lrln2 = text.lastIndexOf('\\r\\n\\r\\n');\n\n      if (lrln2 > Math.max(ln2, lr2)) {\n        return [lrln2, lrln2 + 4];\n      }\n\n      return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2];\n    },\n    trimWhiteSpace: function trimWhiteSpace(str) {\n      // to remove whitespaces left and right of string\n      var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g;\n      return str.replace(reTrim, '');\n    },\n    normalizeToLF: function normalizeToLF(str) {\n      // replace \\r and \\r\\n with \\n\n      return str.replace(/\\r\\n|\\r/g, '\\n');\n    }\n  };\n\n  if (isOldIE()) {\n    EventSource.isPolyfill = 'IE_8-9'; // patch EventSource defaultOptions\n\n    var defaults = EventSource.prototype.defaultOptions;\n    defaults.xhrHeaders = null; // no headers will be sent\n\n    defaults.getArgs.evs_preamble = 2048 + 8; // EventSource will send request using Internet Explorer XDomainRequest\n\n    EventSource.prototype.XHR = function (evs) {\n      /* global XDomainRequest */\n      var request = new XDomainRequest();\n      this._request = request; // set handlers\n\n      request.onprogress = function () {\n        request._ready = true;\n\n        evs._onxhrdata();\n      };\n\n      request.onload = function () {\n        this._loaded = true;\n\n        evs._onxhrdata();\n      };\n\n      request.onerror = function () {\n        this._failed = true;\n        evs.readyState = evs.CLOSED;\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest error'\n        });\n      };\n\n      request.ontimeout = function () {\n        this._failed = true;\n        evs.readyState = evs.CLOSED;\n        evs.dispatchEvent('error', {\n          type: 'error',\n          data: 'XDomainRequest timed out'\n        });\n      }; // XDomainRequest does not allow setting custom headers\n      // If EventSource has enabled the use of GET arguments\n      // we add parameters to URL so that server can adapt the stream...\n\n\n      var reqGetArgs = {};\n\n      if (evs.getArgs) {\n        // copy evs.getArgs in reqGetArgs\n        var defaultArgs = evs.getArgs;\n\n        for (var key in defaultArgs) {\n          if (defaultArgs.hasOwnProperty(key)) {\n            reqGetArgs[key] = defaultArgs[key];\n          }\n        }\n\n        if (evs.lastEventId) {\n          reqGetArgs.evs_last_event_id = evs.lastEventId;\n        }\n      } // send the request\n\n\n      request.open('GET', evs.urlWithParams(evs.URL, reqGetArgs));\n      request.send();\n    };\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: true,\n      _request: null,\n      _ready: false,\n      // true when progress events are dispatched\n      _loaded: false,\n      // true when request has been loaded\n      _failed: false,\n      // true if when request is in error\n      isReady: function isReady() {\n        return this._request._ready;\n      },\n      isDone: function isDone() {\n        return this._request._loaded;\n      },\n      hasError: function hasError() {\n        return this._request._failed;\n      },\n      getBuffer: function getBuffer() {\n        var rv = '';\n\n        try {\n          rv = this._request.responseText || '';\n        } catch (err) {// intentional noop\n        }\n\n        return rv;\n      },\n      abort: function abort() {\n        if (this._request) {\n          this._request.abort();\n        }\n      }\n    };\n  } else {\n    EventSource.isPolyfill = 'XHR'; // EventSource will send request using XMLHttpRequest\n\n    EventSource.prototype.XHR = function (evs) {\n      var request = new XMLHttpRequest();\n      this._request = request;\n      evs._xhr = this; // set handlers\n\n      request.onreadystatechange = function () {\n        if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n          if (request.status == 200 || request.status >= 300 && request.status < 400) {\n            evs._onxhrdata();\n          } else {\n            request._failed = true;\n            evs.readyState = evs.CLOSED;\n            evs.dispatchEvent('error', {\n              type: 'error',\n              data: 'The server responded with ' + request.status\n            });\n            evs.close();\n          }\n        }\n      };\n\n      request.onprogress = function () {// intentional noop\n      };\n\n      request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true);\n      var headers = evs.xhrHeaders; // maybe null\n\n      for (var header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          request.setRequestHeader(header, headers[header]);\n        }\n      }\n\n      if (evs.lastEventId) {\n        request.setRequestHeader('Last-Event-Id', evs.lastEventId);\n      }\n\n      request.send();\n    };\n\n    EventSource.prototype.XHR.prototype = {\n      useXDomainRequest: false,\n      _request: null,\n      _failed: false,\n      // true if we have had errors...\n      isReady: function isReady() {\n        return this._request.readyState >= 2;\n      },\n      isDone: function isDone() {\n        return this._request.readyState == 4;\n      },\n      hasError: function hasError() {\n        return this._failed || this._request.status >= 400;\n      },\n      getBuffer: function getBuffer() {\n        var rv = '';\n\n        try {\n          rv = this._request.responseText || '';\n        } catch (err) {// intentional noop\n        }\n\n        return rv;\n      },\n      abort: function abort() {\n        if (this._request) {\n          this._request.abort();\n        }\n      }\n    };\n  }\n\n  function MessageEvent(type, data, origin, lastEventId) {\n    this.bubbles = false;\n    this.cancelBubble = false;\n    this.cancelable = false;\n    this.data = data || null;\n    this.origin = origin || '';\n    this.lastEventId = lastEventId || '';\n    this.type = type || 'message';\n  }\n\n  function isOldIE() {\n    //return true if we are in IE8 or IE9\n    return Boolean(typeof window !== 'undefined' && window.XDomainRequest && window.XMLHttpRequest && new XMLHttpRequest().responseType === undefined);\n  }\n\n  return EventSource;\n});","\"use strict\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/map'),\n    map = _require.map;\n\nvar _require2 = require('@sanity/observable/operators/filter'),\n    filter = _require2.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction toDocument(body) {\n  // todo: rewrite to just return body.document in a while\n  var document = body.document;\n  Object.defineProperty(document, 'document', {\n    enumerable: false,\n    get: function get() {\n      // eslint-disable-next-line no-console\n      console.warn('The promise returned from client.asset.upload(...) now resolves with the asset document');\n      return document;\n    }\n  });\n  return document;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return toDocument(event.body);\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync'\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = config.gradientMode ? config.namespace : validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return (this.clientConfig.gradientMode ? uri : \"/data\".concat(uri)).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      token: token\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  var base = \"?query=\".concat(enc(query));\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(options).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar once = require('../util/once');\n\nvar tokenWarning = ['Using token with listeners is not supported in browsers. ', \"For more info, see \".concat(generateHelpUrl('js-client-listener-tokens-browser'), \".\")]; // eslint-disable-next-line no-console\n\nvar printTokenWarning = once(function () {\n  return console.warn(tokenWarning.join(' '));\n});\nvar isWindowEventSource = Boolean(typeof window !== 'undefined' && window.EventSource);\nvar EventSource = isWindowEventSource ? window.EventSource // Native browser EventSource\n: polyfilledEventSource; // Node.js, IE etc\n\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var options = defaults(opts, defaultOptions);\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts\n  });\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials;\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n\n  if (token && isWindowEventSource) {\n    printTokenWarning();\n  }\n\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar deepAssign = require('deep-assign');\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  merge: function merge(props) {\n    validateObject('merge', props);\n    var stack = new Error().stack.toString().split('\\n').filter(function (str) {\n      return str.trim();\n    }).slice(2);\n    console.warn(\"The \\\"merge\\\" patch has been deprecated and will be removed in the future\\n\".concat(stack.join('\\n')));\n    return this._assign('merge', deepAssign(this.operations.merge || {}, props));\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nmodule.exports = [];","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n/* eslint-disable no-empty-function, no-process-env */\n\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar _require = require('./errors'),\n    ClientError = _require.ClientError,\n    ServerError = _require.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require3 = require('./config'),\n    defaultConfig = _require3.defaultConfig,\n    initConfig = _require3.initConfig;\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  getUrl: function getUrl(uri) {\n    var canUseCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = canUseCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var uri = options.url || options.uri;\n    var canUseCdn = this.clientConfig.useCdn && ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0;\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, canUseCdn)\n    }));\n    return httpRequest(reqOptions, this.clientConfig.requester);\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^[-\\w]{1,128}$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.gradientMode && !config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};","/* eslint-disable no-var */\nvar evs = require('@rexxars/eventsource-polyfill');\n\nmodule.exports = window.EventSource || evs.EventSource;","var baseUrl = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug;\n};","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.SanityImageUrlBuilder = factory());\n})(this, function () {\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o) {\n    var i = 0;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    i = o[Symbol.iterator]();\n    return i.next.bind(i);\n  }\n\n  var example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\n\n  function parseAssetId(ref) {\n    var _ref$split = ref.split('-'),\n        id = _ref$split[1],\n        dimensionString = _ref$split[2],\n        format = _ref$split[3];\n\n    if (!id || !dimensionString || !format) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    var _dimensionString$spli = dimensionString.split('x'),\n        imgWidthStr = _dimensionString$spli[0],\n        imgHeightStr = _dimensionString$spli[1];\n\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n\n    if (!isValidAssetId) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    return {\n      id: id,\n      width: width,\n      height: height,\n      format: format\n    };\n  }\n\n  var isRef = function isRef(src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n  };\n\n  var isAsset = function isAsset(src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n  };\n\n  var isAssetStub = function isAssetStub(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n  };\n\n  function parseSource(source) {\n    if (!source) {\n      return null;\n    }\n\n    var image;\n\n    if (typeof source === 'string' && isUrl(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source)\n        }\n      };\n    } else if (typeof source === 'string') {\n      image = {\n        asset: {\n          _ref: source\n        }\n      };\n    } else if (isRef(source)) {\n      image = {\n        asset: source\n      };\n    } else if (isAsset(source)) {\n      image = {\n        asset: {\n          _ref: source._id || ''\n        }\n      };\n    } else if (isAssetStub(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source.asset.url)\n        }\n      };\n    } else if (typeof source.asset === 'object') {\n      image = source;\n    } else {\n      return null;\n    }\n\n    var img = source;\n\n    if (img.crop) {\n      image.crop = img.crop;\n    }\n\n    if (img.hotspot) {\n      image.hotspot = img.hotspot;\n    }\n\n    return applyDefaults(image);\n  }\n\n  function isUrl(url) {\n    return /^https?:\\/\\//.test(\"\" + url);\n  }\n\n  function urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return (\"image-\" + parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n  }\n\n  function applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n      return image;\n    }\n\n    var result = _extends({}, image);\n\n    if (!result.crop) {\n      result.crop = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n    }\n\n    if (!result.hotspot) {\n      result.hotspot = {\n        x: 0.5,\n        y: 0.5,\n        height: 1.0,\n        width: 1.0\n      };\n    }\n\n    return result;\n  }\n\n  var SPEC_NAME_TO_URL_NAME_MAPPINGS = [['width', 'w'], ['height', 'h'], ['format', 'fm'], ['download', 'dl'], ['blur', 'blur'], ['sharpen', 'sharp'], ['invert', 'invert'], ['orientation', 'or'], ['minHeight', 'min-h'], ['maxHeight', 'max-h'], ['minWidth', 'min-w'], ['maxWidth', 'max-w'], ['quality', 'q'], ['fit', 'fit'], ['crop', 'crop'], ['saturation', 'sat'], ['auto', 'auto'], ['dpr', 'dpr']];\n\n  function urlForImage(options) {\n    var spec = _extends({}, options || {});\n\n    var source = spec.source;\n    delete spec.source;\n    var image = parseSource(source);\n\n    if (!image) {\n      return null;\n    }\n\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = parseAssetId(id);\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n      left: cropLeft,\n      top: cropTop,\n      width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n      height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n      left: hotSpotCenterX - hotSpotHorizontalRadius,\n      top: hotSpotCenterY - hotSpotVerticalRadius,\n      right: hotSpotCenterX + hotSpotHorizontalRadius,\n      bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n      spec = _extends(_extends({}, spec), fit({\n        crop: crop,\n        hotspot: hotspot\n      }, spec));\n    }\n\n    return specToImageUrl(_extends(_extends({}, spec), {}, {\n      asset: asset\n    }));\n  }\n\n  function specToImageUrl(spec) {\n    var cdnUrl = spec.baseUrl || 'https://cdn.sanity.io';\n    var filename = spec.asset.id + \"-\" + spec.asset.width + \"x\" + spec.asset.height + \".\" + spec.asset.format;\n    var baseUrl = cdnUrl + \"/images/\" + spec.projectId + \"/\" + spec.dataset + \"/\" + filename;\n    var params = [];\n\n    if (spec.rect) {\n      var _spec$rect = spec.rect,\n          left = _spec$rect.left,\n          top = _spec$rect.top,\n          width = _spec$rect.width,\n          height = _spec$rect.height;\n      var isEffectiveCrop = left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n\n      if (isEffectiveCrop) {\n        params.push(\"rect=\" + left + \",\" + top + \",\" + width + \",\" + height);\n      }\n    }\n\n    if (spec.bg) {\n      params.push(\"bg=\" + spec.bg);\n    }\n\n    if (spec.focalPoint) {\n      params.push(\"fp-x=\" + spec.focalPoint.x);\n      params.push(\"fp-y=\" + spec.focalPoint.y);\n    }\n\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n\n    if (flip) {\n      params.push(\"flip=\" + flip);\n    }\n\n    SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n      var specName = mapping[0],\n          param = mapping[1];\n\n      if (typeof spec[specName] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[specName]));\n      } else if (typeof spec[param] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[param]));\n      }\n    });\n\n    if (params.length === 0) {\n      return baseUrl;\n    }\n\n    return baseUrl + \"?\" + params.join('&');\n  }\n\n  function fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n\n    if (!(imgWidth && imgHeight)) {\n      return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: source.crop\n      };\n    }\n\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n\n    if (cropAspectRatio > desiredAspectRatio) {\n      var height = crop.height;\n      var width = height * desiredAspectRatio;\n      var top = crop.top;\n      var hotspotXCenter = (hotspot.right - hotspot.left) / 2 + hotspot.left;\n      var left = hotspotXCenter - width / 2;\n\n      if (left < crop.left) {\n        left = crop.left;\n      } else if (left + width > crop.left + crop.width) {\n        left = crop.left + crop.width - width;\n      }\n\n      cropRect = {\n        left: Math.round(left),\n        top: Math.round(top),\n        width: Math.round(width),\n        height: Math.round(height)\n      };\n    } else {\n      var _width = crop.width;\n\n      var _height = _width / desiredAspectRatio;\n\n      var _left = crop.left;\n      var hotspotYCenter = (hotspot.bottom - hotspot.top) / 2 + hotspot.top;\n\n      var _top = hotspotYCenter - _height / 2;\n\n      if (_top < crop.top) {\n        _top = crop.top;\n      } else if (_top + _height > crop.top + crop.height) {\n        _top = crop.top + crop.height - _height;\n      }\n\n      cropRect = {\n        left: Math.max(0, Math.floor(_left)),\n        top: Math.max(0, Math.floor(_top)),\n        width: Math.round(_width),\n        height: Math.round(_height)\n      };\n    }\n\n    return {\n      width: imgWidth,\n      height: imgHeight,\n      rect: cropRect\n    };\n  }\n\n  var validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\n  var validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\n  var validAutoModes = ['format'];\n\n  function isSanityClient(client) {\n    return client ? typeof client.clientConfig === 'object' : false;\n  }\n\n  function rewriteSpecName(key) {\n    var specs = SPEC_NAME_TO_URL_NAME_MAPPINGS;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(specs), _step; !(_step = _iterator()).done;) {\n      var entry = _step.value;\n      var specName = entry[0],\n          param = entry[1];\n\n      if (key === specName || key === param) {\n        return specName;\n      }\n    }\n\n    return key;\n  }\n\n  function urlBuilder(options) {\n    var client = options;\n\n    if (isSanityClient(client)) {\n      var _client$clientConfig = client.clientConfig,\n          apiUrl = _client$clientConfig.apiHost,\n          projectId = _client$clientConfig.projectId,\n          dataset = _client$clientConfig.dataset;\n      var apiHost = apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: projectId,\n        dataset: dataset\n      });\n    }\n\n    return new ImageUrlBuilder(null, options);\n  }\n\n  var ImageUrlBuilder = /*#__PURE__*/function () {\n    function ImageUrlBuilder(parent, options) {\n      this.options = parent ? _extends(_extends({}, parent.options || {}), options || {}) : _extends({}, options || {});\n    }\n\n    var _proto = ImageUrlBuilder.prototype;\n\n    _proto.withOptions = function withOptions(options) {\n      var baseUrl = options.baseUrl || this.options.baseUrl;\n      var newOptions = {\n        baseUrl: baseUrl\n      };\n\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          var specKey = rewriteSpecName(key);\n          newOptions[specKey] = options[key];\n        }\n      }\n\n      return new ImageUrlBuilder(this, _extends({\n        baseUrl: baseUrl\n      }, newOptions));\n    };\n\n    _proto.image = function image(source) {\n      return this.withOptions({\n        source: source\n      });\n    };\n\n    _proto.dataset = function dataset(_dataset) {\n      return this.withOptions({\n        dataset: _dataset\n      });\n    };\n\n    _proto.projectId = function projectId(_projectId) {\n      return this.withOptions({\n        projectId: _projectId\n      });\n    };\n\n    _proto.bg = function bg(_bg) {\n      return this.withOptions({\n        bg: _bg\n      });\n    };\n\n    _proto.dpr = function dpr(_dpr) {\n      return this.withOptions({\n        dpr: _dpr\n      });\n    };\n\n    _proto.width = function width(_width) {\n      return this.withOptions({\n        width: _width\n      });\n    };\n\n    _proto.height = function height(_height) {\n      return this.withOptions({\n        height: _height\n      });\n    };\n\n    _proto.focalPoint = function focalPoint(x, y) {\n      return this.withOptions({\n        focalPoint: {\n          x: x,\n          y: y\n        }\n      });\n    };\n\n    _proto.maxWidth = function maxWidth(_maxWidth) {\n      return this.withOptions({\n        maxWidth: _maxWidth\n      });\n    };\n\n    _proto.minWidth = function minWidth(_minWidth) {\n      return this.withOptions({\n        minWidth: _minWidth\n      });\n    };\n\n    _proto.maxHeight = function maxHeight(_maxHeight) {\n      return this.withOptions({\n        maxHeight: _maxHeight\n      });\n    };\n\n    _proto.minHeight = function minHeight(_minHeight) {\n      return this.withOptions({\n        minHeight: _minHeight\n      });\n    };\n\n    _proto.size = function size(width, height) {\n      return this.withOptions({\n        width: width,\n        height: height\n      });\n    };\n\n    _proto.blur = function blur(_blur) {\n      return this.withOptions({\n        blur: _blur\n      });\n    };\n\n    _proto.sharpen = function sharpen(_sharpen) {\n      return this.withOptions({\n        sharpen: _sharpen\n      });\n    };\n\n    _proto.rect = function rect(left, top, width, height) {\n      return this.withOptions({\n        rect: {\n          left: left,\n          top: top,\n          width: width,\n          height: height\n        }\n      });\n    };\n\n    _proto.format = function format(_format) {\n      return this.withOptions({\n        format: _format\n      });\n    };\n\n    _proto.invert = function invert(_invert) {\n      return this.withOptions({\n        invert: _invert\n      });\n    };\n\n    _proto.orientation = function orientation(_orientation) {\n      return this.withOptions({\n        orientation: _orientation\n      });\n    };\n\n    _proto.quality = function quality(_quality) {\n      return this.withOptions({\n        quality: _quality\n      });\n    };\n\n    _proto.forceDownload = function forceDownload(download) {\n      return this.withOptions({\n        download: download\n      });\n    };\n\n    _proto.flipHorizontal = function flipHorizontal() {\n      return this.withOptions({\n        flipHorizontal: true\n      });\n    };\n\n    _proto.flipVertical = function flipVertical() {\n      return this.withOptions({\n        flipVertical: true\n      });\n    };\n\n    _proto.ignoreImageParams = function ignoreImageParams() {\n      return this.withOptions({\n        ignoreImageParams: true\n      });\n    };\n\n    _proto.fit = function fit(value) {\n      if (validFits.indexOf(value) === -1) {\n        throw new Error(\"Invalid fit mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        fit: value\n      });\n    };\n\n    _proto.crop = function crop(value) {\n      if (validCrops.indexOf(value) === -1) {\n        throw new Error(\"Invalid crop mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        crop: value\n      });\n    };\n\n    _proto.saturation = function saturation(_saturation) {\n      return this.withOptions({\n        saturation: _saturation\n      });\n    };\n\n    _proto.auto = function auto(value) {\n      if (validAutoModes.indexOf(value) === -1) {\n        throw new Error(\"Invalid auto mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        auto: value\n      });\n    };\n\n    _proto.url = function url() {\n      return urlForImage(this.options);\n    };\n\n    _proto.toString = function toString() {\n      return this.url();\n    };\n\n    return ImageUrlBuilder;\n  }();\n\n  return urlBuilder;\n});","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar assign = require('object-assign');\n\nvar _require2 = require('../operators/map'),\n    map = _require2.map;\n\nvar _require3 = require('../operators/filter'),\n    filter = _require3.filter;\n\nvar _require4 = require('../operators/reduce'),\n    reduce = _require4.reduce;\n/*\n A minimal rxjs based observable that align as closely as possible with the current es-observable spec,\n without the static factory methods\n */\n\n\nfunction SanityObservableMinimal() {\n  Observable.apply(this, arguments); // eslint-disable-line prefer-rest-params\n}\n\nSanityObservableMinimal.prototype = Object.create(assign(Object.create(null), Observable.prototype));\nObject.defineProperty(SanityObservableMinimal.prototype, 'constructor', {\n  value: SanityObservableMinimal,\n  enumerable: false,\n  writable: true,\n  configurable: true\n});\n\nSanityObservableMinimal.prototype.lift = function lift(operator) {\n  var observable = new SanityObservableMinimal();\n  observable.source = this;\n  observable.operator = operator;\n  return observable;\n};\n\nfunction createDeprecatedMemberOp(name, op) {\n  var hasWarned = false;\n  return function deprecatedOperator() {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.warn(new Error(\"Calling observable.\".concat(name, \"(...) is deprecated. Please use observable.pipe(\").concat(name, \"(...)) instead\")));\n    }\n\n    return this.pipe(op.apply(this, arguments));\n  };\n}\n\nSanityObservableMinimal.prototype.map = createDeprecatedMemberOp('map', map);\nSanityObservableMinimal.prototype.filter = createDeprecatedMemberOp('filter', filter);\nSanityObservableMinimal.prototype.reduce = createDeprecatedMemberOp('filter', reduce);\nmodule.exports = SanityObservableMinimal;","module.exports = require('./lib/SanityObservableMinimal');","exports.filter = require('rxjs/internal/operators/filter').filter;","exports.map = require('rxjs/internal/operators/map').map;","require(\"core-js/modules/es.array.reduce.js\");\n\nexports.reduce = require('rxjs/internal/operators/reduce').reduce;","'use strict';\n\nvar isObj = require('is-obj');\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Sources cannot be null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction assignKey(to, from, key) {\n  var val = from[key];\n\n  if (val === undefined || val === null) {\n    return;\n  }\n\n  if (hasOwnProperty.call(to, key)) {\n    if (to[key] === undefined || to[key] === null) {\n      throw new TypeError('Cannot convert undefined or null to object (' + key + ')');\n    }\n  }\n\n  if (!hasOwnProperty.call(to, key) || !isObj(val)) {\n    to[key] = val;\n  } else {\n    to[key] = assign(Object(to[key]), from[key]);\n  }\n}\n\nfunction assign(to, from) {\n  if (to === from) {\n    return to;\n  }\n\n  from = Object(from);\n\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      assignKey(to, from, key);\n    }\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(from);\n\n    for (var i = 0; i < symbols.length; i++) {\n      if (propIsEnumerable.call(from, symbols[i])) {\n        assignKey(to, from, symbols[i]);\n      }\n    }\n  }\n\n  return to;\n}\n\nmodule.exports = function deepAssign(target) {\n  target = toObject(target);\n\n  for (var s = 1; s < arguments.length; s++) {\n    assign(target, arguments[s]);\n  }\n\n  return target;\n};","module.exports = require('./lib-node');","'use strict';\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar pubsub = require('nano-pubsub');\n\nvar middlewareReducer = require('./util/middlewareReducer');\n\nvar processOptions = require('./middleware/defaultOptionsProcessor');\n\nvar validateOptions = require('./middleware/defaultOptionsValidator');\n\nvar httpRequest = require('./request'); // node-request in node, browser-request in browsers\n\n\nvar channelNames = ['request', 'response', 'progress', 'error', 'abort'];\nvar middlehooks = ['processOptions', 'validateOptions', 'interceptRequest', 'finalizeOptions', 'onRequest', 'onResponse', 'onError', 'onReturn', 'onHeaders'];\n\nmodule.exports = function createRequester() {\n  var initMiddleware = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var loadedMiddleware = [];\n  var middleware = middlehooks.reduce(function (ware, name) {\n    ware[name] = ware[name] || [];\n    return ware;\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  });\n\n  function request(opts) {\n    var channels = channelNames.reduce(function (target, name) {\n      target[name] = pubsub();\n      return target;\n    }, {}); // Prepare a middleware reducer that can be reused throughout the lifecycle\n\n    var applyMiddleware = middlewareReducer(middleware); // Parse the passed options\n\n    var options = applyMiddleware('processOptions', opts); // Validate the options\n\n    applyMiddleware('validateOptions', options); // Build a context object we can pass to child handlers\n\n    var context = {\n      options: options,\n      channels: channels,\n      applyMiddleware: applyMiddleware // We need to hold a reference to the current, ongoing request,\n      // in order to allow cancellation. In the case of the retry middleware,\n      // a new request might be triggered\n\n    };\n    var ongoingRequest = null;\n    var unsubscribe = channels.request.subscribe(function (ctx) {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, function (err, res) {\n        return onResponse(err, res, ctx);\n      });\n    }); // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n\n    channels.abort.subscribe(function () {\n      unsubscribe();\n\n      if (ongoingRequest) {\n        ongoingRequest.abort();\n      }\n    }); // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n\n    var returnValue = applyMiddleware('onReturn', channels, context); // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n\n    if (returnValue === channels) {\n      channels.request.publish(context);\n    }\n\n    return returnValue;\n\n    function onResponse(reqErr, res, ctx) {\n      var error = reqErr;\n      var response = res; // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx);\n        } catch (err) {\n          response = null;\n          error = err;\n        }\n      } // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n\n\n      error = error && applyMiddleware('onError', error, ctx); // Figure out if we should publish on error/response channels\n\n      if (error) {\n        channels.error.publish(error);\n      } else if (response) {\n        channels.response.publish(response);\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value');\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error('Tried to add middleware that was a function. It probably expects you to pass options to it.');\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error('Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event');\n    }\n\n    middlehooks.forEach(function (key) {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key]);\n      }\n    });\n    loadedMiddleware.push(newMiddleware);\n    return request;\n  };\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware);\n  };\n\n  initMiddleware.forEach(request.use);\n  return request;\n};","'use strict';\n\nvar objectAssign = require('object-assign');\n\nvar urlParse = require('url-parse');\n\nvar isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative';\nvar has = Object.prototype.hasOwnProperty;\nvar defaultOptions = {\n  timeout: isReactNative ? 60000 : 120000\n};\n\nmodule.exports = function (opts) {\n  var options = typeof opts === 'string' ? objectAssign({\n    url: opts\n  }, defaultOptions) : objectAssign({}, defaultOptions, opts); // Parse URL into parts\n\n  var url = urlParse(options.url, {}, // Don't use current browser location\n  true // Parse query strings\n  ); // Normalize timeouts\n\n  options.timeout = normalizeTimeout(options.timeout); // Shallow-merge (override) existing query params\n\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query));\n  } // Implicit POST if we have not specified a method but have a body\n\n\n  options.method = options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase(); // Stringify URL\n\n  options.url = url.toString(stringifyQueryString);\n  return options;\n};\n\nfunction stringifyQueryString(obj) {\n  var pairs = [];\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key]);\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : '';\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(function (item) {\n        return push(key, item);\n      });\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='));\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false;\n  }\n\n  if (time.connect || time.socket) {\n    return time;\n  }\n\n  var delay = Number(time);\n\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout);\n  }\n\n  return {\n    connect: delay,\n    socket: delay\n  };\n}\n\nfunction removeUndefined(obj) {\n  var target = {};\n\n  for (var key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key];\n    }\n  }\n\n  return target;\n}","\"use strict\";\n\nvar validUrl = /^https?:\\/\\//i;\n\nmodule.exports = function (options) {\n  if (!validUrl.test(options.url)) {\n    throw new Error(\"\\\"\" + options.url + \"\\\" is not a valid URL\");\n  }\n};","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar objectAssign = require('object-assign');\n\nvar isPlainObject = require('is-plain-object');\n\nvar serializeTypes = ['boolean', 'string', 'number'];\n\nvar isBuffer = function isBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n};\n\nmodule.exports = function () {\n  return {\n    processOptions: function processOptions(options) {\n      var body = options.body;\n\n      if (!body) {\n        return options;\n      }\n\n      var isStream = typeof body.pipe === 'function';\n      var shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body === 'undefined' ? 'undefined' : _typeof(body)) !== -1 || Array.isArray(body) || isPlainObject(body));\n\n      if (!shouldSerialize) {\n        return options;\n      }\n\n      return objectAssign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: objectAssign({}, options.headers, {\n          'Content-Type': 'application/json'\n        })\n      });\n    }\n  };\n};","'use strict';\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (opts) {\n  return {\n    onResponse: function onResponse(response) {\n      var contentType = response.headers['content-type'] || '';\n      var shouldDecode = opts && opts.force || contentType.indexOf('application/json') !== -1;\n\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n\n      return objectAssign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: function processOptions(options) {\n      return objectAssign({}, options, {\n        headers: objectAssign({\n          Accept: 'application/json'\n        }, options.headers)\n      });\n    }\n  };\n};\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body);\n  } catch (err) {\n    err.message = 'Failed to parsed response body as JSON: ' + err.message;\n    throw err;\n  }\n}","'use strict';\n\nvar global = require('../util/global');\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var Observable = opts.implementation || global.Observable;\n\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed');\n  }\n\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(objectAssign({\n            type: 'progress'\n          }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(objectAssign({\n            type: 'response'\n          }, response));\n          observer.complete();\n        });\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};","'use strict';\n\nmodule.exports = function () {\n  return {\n    onRequest: function onRequest(evt) {\n      if (evt.adapter !== 'xhr') {\n        return;\n      }\n\n      var xhr = evt.request;\n      var context = evt.context;\n\n      if ('upload' in xhr && 'onprogress' in xhr.upload) {\n        xhr.upload.onprogress = handleProgress('upload');\n      }\n\n      if ('onprogress' in xhr) {\n        xhr.onprogress = handleProgress('download');\n      }\n\n      function handleProgress(stage) {\n        return function (event) {\n          var percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage: stage,\n            percent: percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n};","'use strict';\n\nmodule.exports = require('./node-progress');","'use strict';\n/* eslint max-depth: [\"error\", 4] */\n\nvar sameOrigin = require('same-origin');\n\nvar parseHeaders = require('parse-headers');\n\nvar noop = function noop() {\n  /* intentional noop */\n};\n\nvar win = window;\nvar XmlHttpRequest = win.XMLHttpRequest || noop;\nvar hasXhr2 = ('withCredentials' in new XmlHttpRequest());\nvar XDomainRequest = hasXhr2 ? XmlHttpRequest : win.XDomainRequest;\nvar adapter = 'xhr';\n\nmodule.exports = function (context, callback) {\n  var opts = context.options;\n  var options = context.applyMiddleware('finalizeOptions', opts);\n  var timers = {}; // Deep-checking window.location because of react native, where `location` doesn't exist\n\n  var cors = win && win.location && !sameOrigin(win.location.href, options.url); // Allow middleware to inject a response, for instance in the case of caching or mocking\n\n  var injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter: adapter,\n    context: context\n  }); // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n\n  if (injectedResponse) {\n    var cbTimer = setTimeout(callback, 0, null, injectedResponse);\n\n    var cancel = function cancel() {\n      return clearTimeout(cbTimer);\n    };\n\n    return {\n      abort: cancel\n    };\n  } // We'll want to null out the request on success/failure\n\n\n  var xhr = cors ? new XDomainRequest() : new XmlHttpRequest();\n  var isXdr = win.XDomainRequest && xhr instanceof win.XDomainRequest;\n  var headers = options.headers; // Request state\n\n  var aborted = false;\n  var loaded = false;\n  var timedOut = false; // Apply event handlers\n\n  xhr.onerror = onError;\n  xhr.ontimeout = onError;\n\n  xhr.onabort = function () {\n    aborted = true;\n  }; // IE9 must have onprogress be set to a unique function\n\n\n  xhr.onprogress = function () {\n    /* intentional noop */\n  };\n\n  var loadEvent = isXdr ? 'onload' : 'onreadystatechange';\n\n  xhr[loadEvent] = function () {\n    // Prevent request from timing out\n    resetTimers();\n\n    if (aborted || xhr.readyState !== 4 && !isXdr) {\n      return;\n    } // Will be handled by onError\n\n\n    if (xhr.status === 0) {\n      return;\n    }\n\n    onLoad();\n  }; // @todo two last options to open() is username/password\n\n\n  xhr.open(options.method, options.url, true // Always async\n  ); // Some options need to be applied after open\n\n  xhr.withCredentials = !!options.withCredentials; // Set headers\n\n  if (headers && xhr.setRequestHeader) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object');\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer';\n  } // Let middleware know we're about to do a request\n\n\n  context.applyMiddleware('onRequest', {\n    options: options,\n    adapter: adapter,\n    request: xhr,\n    context: context\n  });\n  xhr.send(options.body || null); // Figure out which timeouts to use (if any)\n\n  var delays = options.timeout;\n\n  if (delays) {\n    timers.connect = setTimeout(function () {\n      return timeoutRequest('ETIMEDOUT');\n    }, delays.connect);\n  }\n\n  return {\n    abort: abort\n  };\n\n  function abort() {\n    aborted = true;\n\n    if (xhr) {\n      xhr.abort();\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true;\n    xhr.abort();\n    var error = new Error(code === 'ESOCKETTIMEDOUT' ? 'Socket timed out on request to ' + options.url : 'Connection timed out on request to ' + options.url);\n    error.code = code;\n    context.channels.error.publish(error);\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return;\n    }\n\n    stopTimers();\n    timers.socket = setTimeout(function () {\n      return timeoutRequest('ESOCKETTIMEDOUT');\n    }, delays.socket);\n  }\n\n  function stopTimers() {\n    // Only clear the connect timeout if we've got a connection\n    if (aborted || xhr.readyState >= 2 && timers.connect) {\n      clearTimeout(timers.connect);\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket);\n    }\n  }\n\n  function onError() {\n    if (loaded) {\n      return;\n    } // Clean up\n\n\n    stopTimers();\n    loaded = true;\n    xhr = null; // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n\n    var err = new Error('Network error while attempting to reach ' + options.url);\n    err.isNetworkError = true;\n    err.request = options;\n    callback(err);\n  }\n\n  function reduceResponse() {\n    var statusCode = xhr.status;\n    var statusMessage = xhr.statusText;\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200;\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError();\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status;\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage;\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    };\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return;\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'));\n      return;\n    } // Prevent being called twice\n\n\n    stopTimers();\n    loaded = true;\n    callback(null, reduceResponse());\n  }\n};","'use strict';\n\nmodule.exports = require('./node-request');","'use strict';\n/* eslint-disable no-negated-condition */\n\nif (typeof window !== 'undefined') {\n  module.exports = window;\n} else if (typeof global !== 'undefined') {\n  module.exports = global;\n} else if (typeof self !== 'undefined') {\n  module.exports = self;\n} else {\n  module.exports = {};\n}","'use strict';\n\nmodule.exports = function (middleware) {\n  var applyMiddleware = function applyMiddleware(hook, defaultValue) {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var bailEarly = hook === 'onError';\n    var value = defaultValue;\n\n    for (var i = 0; i < middleware[hook].length; i++) {\n      var handler = middleware[hook][i];\n      value = handler.apply(undefined, [value].concat(args));\n\n      if (bailEarly && !value) {\n        break;\n      }\n    }\n\n    return value;\n  };\n\n  return applyMiddleware;\n};","'use strict';\n\nmodule.exports = function (x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n};","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n};","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};","// ISC @ Julien Fontanet\n\"use strict\"; // ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty; // -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\n\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack; // Replace property with value for faster future accesses.\n\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true\n        });\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true\n        });\n      }\n    });\n  };\n} // -------------------------------------------------------------------\n\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true\n    });\n  }\n\n  var cname = this.constructor.name;\n\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true\n  }\n}); // -------------------------------------------------------------------\n// Sets the name of a function if possible (depends of the JS engine).\n\nvar setFunctionName = function () {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name\n    });\n  }\n\n  try {\n    var f = function f() {};\n\n    setFunctionName(f, \"foo\");\n\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n}(); // -------------------------------------------------------------------\n\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor = construct !== undefined ? function () {\n      return construct(super_, arguments, this.constructor);\n    } : function () {\n      super_.apply(this, arguments);\n    }; // If the name can be set, do it once and for all.\n\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  } // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n\n\n  constructor.super_ = constructor[\"super\"] = super_;\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true\n    }\n  }; // If the name could not be set on the constructor, set it on the\n  // prototype.\n\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true\n    };\n  }\n\n  constructor.prototype = Object.create(super_.prototype, properties);\n  return constructor;\n}\n\nexports = module.exports = makeError;\nexports.BaseError = BaseError;","module.exports = function Pubsub() {\n  var subscribers = [];\n  return {\n    subscribe: subscribe,\n    publish: publish\n  };\n\n  function subscribe(subscriber) {\n    subscribers.push(subscriber);\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber);\n\n      if (idx > -1) {\n        subscribers.splice(idx, 1);\n      }\n    };\n  }\n\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments);\n    }\n  }\n};","var trim = function trim(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n},\n    isArray = function isArray(arg) {\n  return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\nmodule.exports = function (headers) {\n  if (!headers) return {};\n  var result = {};\n  var headersArr = trim(headers).split('\\n');\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i];\n    var index = row.indexOf(':'),\n        key = trim(row.slice(0, index)).toLowerCase(),\n        value = trim(row.slice(index + 1));\n\n    if (typeof result[key] === 'undefined') {\n      result[key] = value;\n    } else if (isArray(result[key])) {\n      result[key].push(value);\n    } else {\n      result[key] = [result[key], value];\n    }\n  }\n\n  return result;\n};","'use strict';\n\nvar has = Object.prototype.hasOwnProperty,\n    undef;\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\n\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\n\n\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\n\n\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g,\n      result = {},\n      part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1]),\n        value = decode(part[2]); //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\n\n\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n  var pairs = [],\n      value,\n      key; //\n  // Optionally prefix with a '?' if needed\n  //\n\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key]; //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value); //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n\n      if (key === null || value === null) continue;\n      pairs.push(key + '=' + value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n} //\n// Expose the module.\n//\n\n\nexports.stringify = querystringify;\nexports.parse = querystring;","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","'use strict';\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\n\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n      return port !== 80;\n\n    case 'https':\n    case 'wss':\n      return port !== 443;\n\n    case 'ftp':\n      return port !== 21;\n\n    case 'gopher':\n      return port !== 70;\n\n    case 'file':\n      return false;\n  }\n\n  return port !== 0;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar canReportError_1 = require(\"./util/canReportError\");\n\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\n\nvar observable_1 = require(\"./symbol/observable\");\n\nvar pipe_1 = require(\"./util/pipe\");\n\nvar config_1 = require(\"./config\");\n\nvar Observable = function () {\n  function Observable(subscribe) {\n    this._isScalar = false;\n\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  Observable.prototype.lift = function (operator) {\n    var observable = new Observable();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  };\n\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var operator = this.operator;\n    var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(this.source || config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n    }\n\n    if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  };\n\n  Observable.prototype._trySubscribe = function (sink) {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n\n      if (canReportError_1.canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  };\n\n  Observable.prototype.forEach = function (next, promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var subscription;\n      subscription = _this.subscribe(function (value) {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    });\n  };\n\n  Observable.prototype._subscribe = function (subscriber) {\n    var source = this.source;\n    return source && source.subscribe(subscriber);\n  };\n\n  Observable.prototype[observable_1.observable] = function () {\n    return this;\n  };\n\n  Observable.prototype.pipe = function () {\n    var operations = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      operations[_i] = arguments[_i];\n    }\n\n    if (operations.length === 0) {\n      return this;\n    }\n\n    return pipe_1.pipeFromArray(operations)(this);\n  };\n\n  Observable.prototype.toPromise = function (promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var value;\n\n      _this.subscribe(function (x) {\n        return value = x;\n      }, function (err) {\n        return reject(err);\n      }, function () {\n        return resolve(value);\n      });\n    });\n  };\n\n  Observable.create = function (subscribe) {\n    return new Observable(subscribe);\n  };\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nfunction getPromiseCtor(promiseCtor) {\n  if (!promiseCtor) {\n    promiseCtor = config_1.config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar config_1 = require(\"./config\");\n\nvar hostReportError_1 = require(\"./util/hostReportError\");\n\nexports.empty = {\n  closed: true,\n  next: function next(value) {},\n  error: function error(err) {\n    if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError_1.hostReportError(err);\n    }\n  },\n  complete: function complete() {}\n};","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isFunction_1 = require(\"./util/isFunction\");\n\nvar Observer_1 = require(\"./Observer\");\n\nvar Subscription_1 = require(\"./Subscription\");\n\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\n\nvar config_1 = require(\"./config\");\n\nvar hostReportError_1 = require(\"./util/hostReportError\");\n\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(destinationOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this.syncErrorValue = null;\n    _this.syncErrorThrown = false;\n    _this.syncErrorThrowable = false;\n    _this.isStopped = false;\n\n    switch (arguments.length) {\n      case 0:\n        _this.destination = Observer_1.empty;\n        break;\n\n      case 1:\n        if (!destinationOrNext) {\n          _this.destination = Observer_1.empty;\n          break;\n        }\n\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            _this.destination = destinationOrNext;\n            destinationOrNext.add(_this);\n          } else {\n            _this.syncErrorThrowable = true;\n            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n          }\n\n          break;\n        }\n\n      default:\n        _this.syncErrorThrowable = true;\n        _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n        break;\n    }\n\n    return _this;\n  }\n\n  Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () {\n    return this;\n  };\n\n  Subscriber.create = function (next, error, complete) {\n    var subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.isStopped = true;\n\n    _super.prototype.unsubscribe.call(this);\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    this.destination.error(err);\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._complete = function () {\n    this.destination.complete();\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._unsubscribeAndRecycle = function () {\n    var _parentOrParents = this._parentOrParents;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  };\n\n  return Subscriber;\n}(Subscription_1.Subscription);\n\nexports.Subscriber = Subscriber;\n\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this._parentSubscriber = _parentSubscriber;\n    var next;\n    var context = _this;\n\n    if (isFunction_1.isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n\n      if (observerOrNext !== Observer_1.empty) {\n        context = Object.create(observerOrNext);\n\n        if (isFunction_1.isFunction(context.unsubscribe)) {\n          _this.add(context.unsubscribe.bind(context));\n        }\n\n        context.unsubscribe = _this.unsubscribe.bind(_this);\n      }\n    }\n\n    _this._context = context;\n    _this._next = next;\n    _this._error = error;\n    _this._complete = complete;\n    return _this;\n  }\n\n  SafeSubscriber.prototype.next = function (value) {\n    if (!this.isStopped && this._next) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n\n        hostReportError_1.hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError_1.hostReportError(err);\n        }\n\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.complete = function () {\n    var _this = this;\n\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (this._complete) {\n        var wrappedComplete = function wrappedComplete() {\n          return _this._complete.call(_this._context);\n        };\n\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError_1.hostReportError(err);\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n    if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError_1.hostReportError(err);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  SafeSubscriber.prototype._unsubscribe = function () {\n    var _parentSubscriber = this._parentSubscriber;\n    this._context = null;\n    this._parentSubscriber = null;\n\n    _parentSubscriber.unsubscribe();\n  };\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexports.SafeSubscriber = SafeSubscriber;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isArray_1 = require(\"./util/isArray\");\n\nvar isObject_1 = require(\"./util/isObject\");\n\nvar isFunction_1 = require(\"./util/isFunction\");\n\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\n\nvar Subscription = function () {\n  function Subscription(unsubscribe) {\n    this.closed = false;\n    this._parentOrParents = null;\n    this._subscriptions = null;\n\n    if (unsubscribe) {\n      this._ctorUnsubscribe = true;\n      this._unsubscribe = unsubscribe;\n    }\n  }\n\n  Subscription.prototype.unsubscribe = function () {\n    var errors;\n\n    if (this.closed) {\n      return;\n    }\n\n    var _a = this,\n        _parentOrParents = _a._parentOrParents,\n        _ctorUnsubscribe = _a._ctorUnsubscribe,\n        _unsubscribe = _a._unsubscribe,\n        _subscriptions = _a._subscriptions;\n\n    this.closed = true;\n    this._parentOrParents = null;\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (var index = 0; index < _parentOrParents.length; ++index) {\n        var parent_1 = _parentOrParents[index];\n        parent_1.remove(this);\n      }\n    }\n\n    if (isFunction_1.isFunction(_unsubscribe)) {\n      if (_ctorUnsubscribe) {\n        this._unsubscribe = undefined;\n      }\n\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray_1.isArray(_subscriptions)) {\n      var index = -1;\n      var len = _subscriptions.length;\n\n      while (++index < len) {\n        var sub = _subscriptions[index];\n\n        if (isObject_1.isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n\n            if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n    }\n  };\n\n  Subscription.prototype.add = function (teardown) {\n    var subscription = teardown;\n\n    if (!teardown) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(teardown);\n\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          var tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n\n        break;\n\n      default:\n        {\n          throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n    }\n\n    var _parentOrParents = subscription._parentOrParents;\n\n    if (_parentOrParents === null) {\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        return subscription;\n      }\n\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      _parentOrParents.push(this);\n    } else {\n      return subscription;\n    }\n\n    var subscriptions = this._subscriptions;\n\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  };\n\n  Subscription.prototype.remove = function (subscription) {\n    var subscriptions = this._subscriptions;\n\n    if (subscriptions) {\n      var subscriptionIndex = subscriptions.indexOf(subscription);\n\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  };\n\n  Subscription.EMPTY = function (empty) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription());\n\n  return Subscription;\n}();\n\nexports.Subscription = Subscription;\n\nfunction flattenUnsubscriptionErrors(errors) {\n  return errors.reduce(function (errs, err) {\n    return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError ? err.errors : err);\n  }, []);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n  Promise: undefined,\n\n  set useDeprecatedSynchronousErrorHandling(value) {\n    if (value) {\n      var error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  }\n\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Observable_1 = require(\"../Observable\");\n\nexports.EMPTY = new Observable_1.Observable(function (subscriber) {\n  return subscriber.complete();\n});\n\nfunction empty(scheduler) {\n  return scheduler ? emptyScheduled(scheduler) : exports.EMPTY;\n}\n\nexports.empty = empty;\n\nfunction emptyScheduled(scheduler) {\n  return new Observable_1.Observable(function (subscriber) {\n    return scheduler.schedule(function () {\n      return subscriber.complete();\n    });\n  });\n}","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction defaultIfEmpty(defaultValue) {\n  if (defaultValue === void 0) {\n    defaultValue = null;\n  }\n\n  return function (source) {\n    return source.lift(new DefaultIfEmptyOperator(defaultValue));\n  };\n}\n\nexports.defaultIfEmpty = defaultIfEmpty;\n\nvar DefaultIfEmptyOperator = function () {\n  function DefaultIfEmptyOperator(defaultValue) {\n    this.defaultValue = defaultValue;\n  }\n\n  DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  };\n\n  return DefaultIfEmptyOperator;\n}();\n\nvar DefaultIfEmptySubscriber = function (_super) {\n  __extends(DefaultIfEmptySubscriber, _super);\n\n  function DefaultIfEmptySubscriber(destination, defaultValue) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.defaultValue = defaultValue;\n    _this.isEmpty = true;\n    return _this;\n  }\n\n  DefaultIfEmptySubscriber.prototype._next = function (value) {\n    this.isEmpty = false;\n    this.destination.next(value);\n  };\n\n  DefaultIfEmptySubscriber.prototype._complete = function () {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n\n    this.destination.complete();\n  };\n\n  return DefaultIfEmptySubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction filter(predicate, thisArg) {\n  return function filterOperatorFunction(source) {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nexports.filter = filter;\n\nvar FilterOperator = function () {\n  function FilterOperator(predicate, thisArg) {\n    this.predicate = predicate;\n    this.thisArg = thisArg;\n  }\n\n  FilterOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  };\n\n  return FilterOperator;\n}();\n\nvar FilterSubscriber = function (_super) {\n  __extends(FilterSubscriber, _super);\n\n  function FilterSubscriber(destination, predicate, thisArg) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.predicate = predicate;\n    _this.thisArg = thisArg;\n    _this.count = 0;\n    return _this;\n  }\n\n  FilterSubscriber.prototype._next = function (value) {\n    var result;\n\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    if (result) {\n      this.destination.next(value);\n    }\n  };\n\n  return FilterSubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction map(project, thisArg) {\n  return function mapOperation(source) {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexports.map = map;\n\nvar MapOperator = function () {\n  function MapOperator(project, thisArg) {\n    this.project = project;\n    this.thisArg = thisArg;\n  }\n\n  MapOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  };\n\n  return MapOperator;\n}();\n\nexports.MapOperator = MapOperator;\n\nvar MapSubscriber = function (_super) {\n  __extends(MapSubscriber, _super);\n\n  function MapSubscriber(destination, project, thisArg) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.project = project;\n    _this.count = 0;\n    _this.thisArg = thisArg || _this;\n    return _this;\n  }\n\n  MapSubscriber.prototype._next = function (value) {\n    var result;\n\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  };\n\n  return MapSubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar scan_1 = require(\"./scan\");\n\nvar takeLast_1 = require(\"./takeLast\");\n\nvar defaultIfEmpty_1 = require(\"./defaultIfEmpty\");\n\nvar pipe_1 = require(\"../util/pipe\");\n\nfunction reduce(accumulator, seed) {\n  if (arguments.length >= 2) {\n    return function reduceOperatorFunctionWithSeed(source) {\n      return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);\n    };\n  }\n\n  return function reduceOperatorFunction(source) {\n    return pipe_1.pipe(scan_1.scan(function (acc, value, index) {\n      return accumulator(acc, value, index + 1);\n    }), takeLast_1.takeLast(1))(source);\n  };\n}\n\nexports.reduce = reduce;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction scan(accumulator, seed) {\n  var hasSeed = false;\n\n  if (arguments.length >= 2) {\n    hasSeed = true;\n  }\n\n  return function scanOperatorFunction(source) {\n    return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n  };\n}\n\nexports.scan = scan;\n\nvar ScanOperator = function () {\n  function ScanOperator(accumulator, seed, hasSeed) {\n    if (hasSeed === void 0) {\n      hasSeed = false;\n    }\n\n    this.accumulator = accumulator;\n    this.seed = seed;\n    this.hasSeed = hasSeed;\n  }\n\n  ScanOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n  };\n\n  return ScanOperator;\n}();\n\nvar ScanSubscriber = function (_super) {\n  __extends(ScanSubscriber, _super);\n\n  function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.accumulator = accumulator;\n    _this._seed = _seed;\n    _this.hasSeed = hasSeed;\n    _this.index = 0;\n    return _this;\n  }\n\n  Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n    get: function get() {\n      return this._seed;\n    },\n    set: function set(value) {\n      this.hasSeed = true;\n      this._seed = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ScanSubscriber.prototype._next = function (value) {\n    if (!this.hasSeed) {\n      this.seed = value;\n      this.destination.next(value);\n    } else {\n      return this._tryNext(value);\n    }\n  };\n\n  ScanSubscriber.prototype._tryNext = function (value) {\n    var index = this.index++;\n    var result;\n\n    try {\n      result = this.accumulator(this.seed, value, index);\n    } catch (err) {\n      this.destination.error(err);\n    }\n\n    this.seed = result;\n    this.destination.next(result);\n  };\n\n  return ScanSubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nvar ArgumentOutOfRangeError_1 = require(\"../util/ArgumentOutOfRangeError\");\n\nvar empty_1 = require(\"../observable/empty\");\n\nfunction takeLast(count) {\n  return function takeLastOperatorFunction(source) {\n    if (count === 0) {\n      return empty_1.empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\n\nexports.takeLast = takeLast;\n\nvar TakeLastOperator = function () {\n  function TakeLastOperator(total) {\n    this.total = total;\n\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError();\n    }\n  }\n\n  TakeLastOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n  };\n\n  return TakeLastOperator;\n}();\n\nvar TakeLastSubscriber = function (_super) {\n  __extends(TakeLastSubscriber, _super);\n\n  function TakeLastSubscriber(destination, total) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.total = total;\n    _this.ring = new Array();\n    _this.count = 0;\n    return _this;\n  }\n\n  TakeLastSubscriber.prototype._next = function (value) {\n    var ring = this.ring;\n    var total = this.total;\n    var count = this.count++;\n\n    if (ring.length < total) {\n      ring.push(value);\n    } else {\n      var index = count % total;\n      ring[index] = value;\n    }\n  };\n\n  TakeLastSubscriber.prototype._complete = function () {\n    var destination = this.destination;\n    var count = this.count;\n\n    if (count > 0) {\n      var total = this.count >= this.total ? this.total : this.count;\n      var ring = this.ring;\n\n      for (var i = 0; i < total; i++) {\n        var idx = count++ % total;\n        destination.next(ring[idx]);\n      }\n    }\n\n    destination.complete();\n  };\n\n  return TakeLastSubscriber;\n}(Subscriber_1.Subscriber);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.rxSubscriber = function () {\n  return typeof Symbol === 'function' ? Symbol('rxSubscriber') : '@@rxSubscriber_' + Math.random();\n}();\n\nexports.$$rxSubscriber = exports.rxSubscriber;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ArgumentOutOfRangeErrorImpl = function () {\n  function ArgumentOutOfRangeErrorImpl() {\n    Error.call(this);\n    this.message = 'argument out of range';\n    this.name = 'ArgumentOutOfRangeError';\n    return this;\n  }\n\n  ArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n  return ArgumentOutOfRangeErrorImpl;\n}();\n\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar UnsubscriptionErrorImpl = function () {\n  function UnsubscriptionErrorImpl(errors) {\n    Error.call(this);\n    this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) {\n      return i + 1 + \") \" + err.toString();\n    }).join('\\n  ') : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n  return UnsubscriptionErrorImpl;\n}();\n\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nfunction canReportError(observer) {\n  while (observer) {\n    var _a = observer,\n        closed_1 = _a.closed,\n        destination = _a.destination,\n        isStopped = _a.isStopped;\n\n    if (closed_1 || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber_1.Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n\n  return true;\n}\n\nexports.canReportError = canReportError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction hostReportError(err) {\n  setTimeout(function () {\n    throw err;\n  }, 0);\n}\n\nexports.hostReportError = hostReportError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction identity(x) {\n  return x;\n}\n\nexports.identity = identity;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.isArray = function () {\n  return Array.isArray || function (x) {\n    return x && typeof x.length === 'number';\n  };\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nexports.isFunction = isFunction;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isObject(x) {\n  return x !== null && typeof x === 'object';\n}\n\nexports.isObject = isObject;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar identity_1 = require(\"./identity\");\n\nfunction pipe() {\n  var fns = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    fns[_i] = arguments[_i];\n  }\n\n  return pipeFromArray(fns);\n}\n\nexports.pipe = pipe;\n\nfunction pipeFromArray(fns) {\n  if (fns.length === 0) {\n    return identity_1.identity;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input) {\n    return fns.reduce(function (prev, fn) {\n      return fn(prev);\n    }, input);\n  };\n}\n\nexports.pipeFromArray = pipeFromArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subscriber_1 = require(\"../Subscriber\");\n\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\n\nvar Observer_1 = require(\"../Observer\");\n\nfunction toSubscriber(nextOrObserver, error, complete) {\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n      return nextOrObserver;\n    }\n\n    if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n      return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber_1.Subscriber(Observer_1.empty);\n  }\n\n  return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\n\nexports.toSubscriber = toSubscriber;","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function (uri1, uri2, ieMode) {\n  if (uri1 === uri2) {\n    return true;\n  }\n\n  var url1 = url.parse(uri1, false, true);\n  var url2 = url.parse(uri2, false, true);\n  var url1Port = url1.port | 0 || (url1.protocol === 'https' ? 443 : 80);\n  var url2Port = url2.port | 0 || (url2.protocol === 'https' ? 443 : 80);\n  var match = {\n    proto: url1.protocol === url2.protocol,\n    hostname: url1.hostname === url2.hostname,\n    port: url1Port === url2Port\n  };\n  return match.proto && match.hostname && (match.port || ieMode);\n};","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\nmodule.exports = {\n  regex: regex,\n  parse: function parse(url) {\n    var match = regex.exec(url);\n\n    if (!match) {\n      return {};\n    }\n\n    return {\n      protocol: (match[1] || '').toLowerCase() || undefined,\n      hostname: (match[5] || '').toLowerCase() || undefined,\n      port: match[6] || undefined\n    };\n  }\n};","'use strict';\n\nrequire(\"core-js/modules/es.string.trim-start.js\");\n\nvar required = require('requires-port'),\n    qs = require('querystringify'),\n    slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//,\n    protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i,\n    whitespace = \"[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]\",\n    left = new RegExp('^' + whitespace + '+');\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\n\n\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\n\n\nvar rules = [['#', 'hash'], // Extract from the back.\n['?', 'query'], // Extract from the back.\nfunction sanitize(address) {\n  // Sanitize what is left of the address\n  return address.replace('\\\\', '/');\n}, ['/', 'pathname'], // Extract from the back.\n['@', 'auth', 1], // Extract from the front.\n[NaN, 'host', undefined, 1, 1], // Set left over value.\n[/:(\\d+)$/, 'port', undefined, 1], // RegExp the back.\n[NaN, 'hostname', undefined, 1, 1] // Set left over.\n];\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\n\nvar ignore = {\n  hash: 1,\n  query: 1\n};\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\n\nfunction lolcation(loc) {\n  var globalVar;\n  if (typeof window !== 'undefined') globalVar = window;else if (typeof global !== 'undefined') globalVar = global;else if (typeof self !== 'undefined') globalVar = self;else globalVar = {};\n  var location = globalVar.location || {};\n  loc = loc || location;\n  var finaldestination = {},\n      type = typeof loc,\n      key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n\n    for (key in ignore) {\n      delete finaldestination[key];\n    }\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\n\n\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\n\n\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/')),\n      i = path.length,\n      last = path[i - 1],\n      unshift = false,\n      up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n  return path.join('/');\n}\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\n\n\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative,\n      extracted,\n      parse,\n      instruction,\n      index,\n      key,\n      instructions = rules.slice(),\n      type = typeof location,\n      url = this,\n      i = 0; //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n  location = lolcation(location); //\n  // Extract protocol information before running the instructions.\n  //\n\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest; //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if (index = parse.exec(address)) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (relative && instruction[3] ? location[key] || '' : ''); //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  } //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n\n\n  if (parser) url.query = parser(url.query); //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n\n  if (relative && location.slashes && url.pathname.charAt(0) !== '/' && (url.pathname !== '' || location.pathname !== '')) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  } //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n\n\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  } //\n  // Parse down the `auth` for the username and password.\n  //\n\n\n  url.username = url.password = '';\n\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:' ? url.protocol + '//' + url.host : 'null'; //\n  // The href is just the compiled result.\n  //\n\n  url.href = url.toString();\n}\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\n\n\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname + ':' + value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n      if (url.port) value += ':' + url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:' ? url.protocol + '//' + url.host : 'null';\n  url.href = url.toString();\n  return url;\n}\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\n\n\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n  var query,\n      url = this,\n      protocol = url.protocol;\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':' + url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?' + query : query;\n  if (url.hash) result += url.hash;\n  return result;\n}\n\nUrl.prototype = {\n  set: set,\n  toString: toString\n}; //\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\n\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\nmodule.exports = Url;"],"sourceRoot":""}